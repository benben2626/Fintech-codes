#If you have no modual of pandas_datareader that go to my development plan to see steps how to install that in my install file. Thanks.

import datetime as dt
import matplotlib.pyplot as plt
from matplotlib import style
import pandas as pd
import pandas_datareader.data as web
from pandas.plotting import register_matplotlib_converters
register_matplotlib_converters()

style.use('ggplot')
start = dt.datetime(2019,1,1)
end = dt.datetime(2019,12,1)

df = web.DataReader('xxx','yahoo',start,end)
df.to_csv('XXx.csv') #df text save to target csv
df = pd.read_csv('xxx.csv', parse_dates=True, index_col=0) #circle column 0 t0 index
#condition(https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.read_csv.html)

df['Close'].plot()
df[['Open','Close']].head()
df.dropna(inplace=True)#pass NA num
df.tail()

df['10ma']=df['Adj Close'].rolling(window=10).mean() #MA(ex.10ma)
df['10ma']=df['Adj Close'].rolling(window=10, min_periods=0).mean() #As the previous num if num=na
df[['Adj Close','10ma','20ma','30ma']].plot()#Choose which col want to be showed.

Design graph
ax1=plt.subplot2grid((6,1),(0,0), rowspan=5,colspan=1)
ax2=plt.subplot2grid((6,1),(5,0), rowspan=1,colspan=1)
ax1.plot(df.index, df['Adj Close'])
ax1.plot(df.index, df['10ma'])
ax2.bar(df.index, df['Volume'])

plt.show()
